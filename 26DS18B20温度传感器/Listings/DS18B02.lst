C51 COMPILER V9.60.7.0   DS18B02                                                           09/04/2025 23:32:12 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE DS18B02
OBJECT MODULE PLACED IN .\Objects\DS18B02.obj
COMPILER INVOKED BY: D:\keil5\C51\BIN\C51.EXE DS18B02.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\DS1
                    -8B02.lst) OBJECT(.\Objects\DS18B02.obj)

line level    source

   1          #include "OneWire.h"
   2          
   3          void DS18B02_ConvertT(void)
   4          {
   5   1              unsigned char Ask;
   6   1              Ask = OneWire_Init();//初始化单总线
   7   1              OneWire_SendByte(0xCC);//发送跳过ROM指令
   8   1              OneWire_SendByte(0x44);//发送开始温度变换指令
   9   1      }
  10          
  11          float DS18B02_ReadRegister(void)
  12          {
  13   1              unsigned char Ask;
  14   1              unsigned char TLSB, TMSB;
  15   1              int Temp;
  16   1              float T;
  17   1              
  18   1              Ask = OneWire_Init();//初始化单总线
  19   1              OneWire_SendByte(0xCC);//发送跳过ROM指令
  20   1              OneWire_SendByte(0xBE);//发送开始温度变换指令
  21   1              TLSB = OneWire_ReceiveByte();//接收温度的低八位
  22   1              TMSB = OneWire_ReceiveByte();//接收温度的高八位
  23   1              Temp = (TMSB << 8) | TLSB;//将高八位和低八位合并
  24   1              T = Temp / 16.0;//将补码转换为原码，并保留小数部分
  25   1              
  26   1              return T;
  27   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     60    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       3
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
